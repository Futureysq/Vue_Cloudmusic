{"version":3,"sources":["webpack:///./src/views/Login.vue?3dfa","webpack:///./src/views/Login.vue?a2ef","webpack:///src/views/Login.vue","webpack:///./src/views/Login.vue?32cc","webpack:///./src/views/Login.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","directives","name","rawName","value","expression","staticClass","_v","on","close","onSubmit","attrs","required","message","model","callback","$$v","username","password","staticStyle","staticRenderFns","data","computed","methods","$axios","get","res","onOpened","_this","$store","state","$router","push","path","commit","component"],"mappings":"kHAAA,yBAA0rB,EAAG,G,yCCA7rB,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,WAAW,CAAC,CAACC,KAAK,OAAOC,QAAQ,SAASC,MAAOT,EAAW,QAAEU,WAAW,YAAYC,YAAY,YAAY,CAACP,EAAG,MAAM,CAACO,YAAY,SAAS,CAACX,EAAIY,GAAG,QAAQR,EAAG,MAAM,CAACO,YAAY,yBAAyBE,GAAG,CAAC,MAAQb,EAAIc,WAAWV,EAAG,MAAM,CAACO,YAAY,aAAaP,EAAG,MAAM,CAACO,YAAY,QAAQ,CAACP,EAAG,WAAW,CAACS,GAAG,CAAC,OAASb,EAAIe,WAAW,CAACX,EAAG,YAAY,CAACY,MAAM,CAAC,KAAO,MAAM,MAAQ,MAAM,YAAc,MAAM,MAAQ,CAAC,CAAEC,UAAU,EAAMC,QAAS,YAAaC,MAAM,CAACV,MAAOT,EAAY,SAAEoB,SAAS,SAAUC,GAAMrB,EAAIsB,SAASD,GAAKX,WAAW,cAAcN,EAAG,YAAY,CAACY,MAAM,CAAC,KAAO,WAAW,KAAO,KAAK,MAAQ,KAAK,YAAc,KAAK,MAAQ,CAAC,CAAEC,UAAU,EAAMC,QAAS,WAAYC,MAAM,CAACV,MAAOT,EAAY,SAAEoB,SAAS,SAAUC,GAAMrB,EAAIuB,SAASF,GAAKX,WAAW,cAAcN,EAAG,MAAM,CAACoB,YAAY,CAAC,OAAS,SAAS,CAACpB,EAAG,aAAa,CAACY,MAAM,CAAC,MAAQ,GAAG,MAAQ,GAAG,KAAO,OAAO,cAAc,WAAW,CAAChB,EAAIY,GAAG,SAAS,IAAI,GAAGR,EAAG,MAAM,CAACO,YAAY,UAAU,CAACP,EAAG,MAAM,CAACO,YAAY,OAAO,CAACX,EAAIY,GAAG,WAAWR,EAAG,cAAc,CAACO,YAAY,aAAaK,MAAM,CAAC,GAAK,aAAa,CAAChB,EAAIY,GAAG,SAAS,MAAM,MAC1rCa,EAAkB,G,kDCoDtB,+B,EAAA,W,EAAA,aAEA,GACEC,KADF,WAEI,MAAO,CACLJ,SAAU,GACVC,SAAU,KAKdI,SAAU,OAAZ,OAAY,CAAZ,GACA,gBAGEC,QAAS,OAAX,OAAW,CAAX,kBACA,sBADA,IAEIb,SAFJ,SAEA,GACM,IAAN,OAEA,EACA,yDACMd,KAAK4B,OAAOC,IAAI,QAAS,CAA/B,6BAEwB,OAAZC,EAAIL,KACN,eAAV,CACYR,QAAS,OACTc,SAFZ,WAIcC,EAAMC,OAAOC,MAAMb,SAAWW,EAAMX,SAEpCW,EAAMG,QAAQC,KAAKC,MAIvB,eAAV,YAeIxB,MAnCJ,WAoCM,IAAN,EACA,+DACMb,KAAKmC,QAAQC,KAAKC,GAClBrC,KAAKiC,OAAOK,OAAO,4BAA4B,OC3G8X,I,wBCQ/aC,EAAY,eACd,EACAzC,EACA0B,GACA,EACA,KACA,WACA,MAIa,aAAAe,E","file":"js/chunk-a0078fde.cf57e536.js","sourcesContent":["import mod from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=fc9e675e&lang=less&scoped=true&\"; export default mod; export * from \"-!../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../node_modules/_css-loader@3.6.0@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../node_modules/_vue-loader@15.9.3@vue-loader/lib/loaders/stylePostLoader.js!../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=style&index=0&id=fc9e675e&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.isShow3),expression:\"isShow3\"}],staticClass:\"register\"},[_c('div',{staticClass:\"title\"},[_vm._v(\" 登录 \"),_c('div',{staticClass:\"close fr el-icon-close\",on:{\"click\":_vm.close}})]),_c('div',{staticClass:\"logo-box\"}),_c('div',{staticClass:\"list\"},[_c('van-form',{on:{\"submit\":_vm.onSubmit}},[_c('van-field',{attrs:{\"name\":\"用户名\",\"label\":\"用户名\",\"placeholder\":\"用户名\",\"rules\":[{ required: true, message: '请填写用户名' }]},model:{value:(_vm.username),callback:function ($$v) {_vm.username=$$v},expression:\"username\"}}),_c('van-field',{attrs:{\"type\":\"password\",\"name\":\"密码\",\"label\":\"密码\",\"placeholder\":\"密码\",\"rules\":[{ required: true, message: '请填写密码' }]},model:{value:(_vm.password),callback:function ($$v) {_vm.password=$$v},expression:\"password\"}}),_c('div',{staticStyle:{\"margin\":\"10px\"}},[_c('van-button',{attrs:{\"round\":\"\",\"block\":\"\",\"type\":\"info\",\"native-type\":\"submit\"}},[_vm._v(\"提交\")])],1)],1),_c('div',{staticClass:\"footer\"},[_c('div',{staticClass:\"txt\"},[_vm._v(\" 没有账号？ \"),_c('router-link',{staticClass:\"login-text\",attrs:{\"to\":\"register\"}},[_vm._v(\"注册\")])],1)])],1)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"register\" v-show=\"isShow3\">\r\n    <div class=\"title\">\r\n      登录\r\n      <div class=\"close fr el-icon-close\" @click=\"close\"></div>\r\n    </div>\r\n\r\n    <div class=\"logo-box\">\r\n      <!-- <div class=\"logo\"></div> -->\r\n      <!-- <el-upload\r\n        class=\"avatar-uploader\"\r\n        action=\"https://jsonplaceholder.typicode.com/posts/\"\r\n        :show-file-list=\"false\"\r\n        :on-success=\"handleAvatarSuccess\"\r\n        :before-upload=\"beforeAvatarUpload\"\r\n      >\r\n        <img v-if=\"imageUrl\" :src=\"imageUrl\" class=\"avatar\" />\r\n        <i v-else class=\"el-icon-plus avatar-uploader-icon\"></i>\r\n      </el-upload> -->\r\n    </div>\r\n    <div class=\"list\">\r\n      <van-form @submit=\"onSubmit\">\r\n        <van-field\r\n          v-model=\"username\"\r\n          name=\"用户名\"\r\n          label=\"用户名\"\r\n          placeholder=\"用户名\"\r\n          :rules=\"[{ required: true, message: '请填写用户名' }]\"\r\n        />\r\n        <van-field\r\n          v-model=\"password\"\r\n          type=\"password\"\r\n          name=\"密码\"\r\n          label=\"密码\"\r\n          placeholder=\"密码\"\r\n          :rules=\"[{ required: true, message: '请填写密码' }]\"\r\n        />\r\n        <div style=\"margin: 10px;\">\r\n          <van-button round block type=\"info\" native-type=\"submit\">提交</van-button>\r\n        </div>\r\n      </van-form>\r\n      <div class=\"footer\">\r\n        <div class=\"txt\">\r\n          没有账号？\r\n          <router-link class=\"login-text\" to=\"register\">注册</router-link>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport { createNamespacedHelpers } from \"vuex\";\r\nconst { mapState, mapMutations } = createNamespacedHelpers(\"rankModule\");\r\nimport { Toast } from \"vant\";\r\nexport default {\r\n  data() {\r\n    return {\r\n      username: \"\",\r\n      password: \"\",\r\n      // imageUrl: \"\"\r\n    };\r\n  },\r\n  //计算属性\r\n  computed: {\r\n    ...mapState([\"isShow3\"])\r\n  },\r\n\r\n  methods: {\r\n    ...mapMutations([\"changeisShow3\"]),\r\n    onSubmit(params) {\r\n      let _this = this;\r\n      //判断是否传参，修改返回路径\r\n      let path =\r\n        \"path\" in _this.$route.query ? _this.$route.query.path : \"/recommend\";\r\n      this.$axios.get(\"login\", { params }).then(res => {\r\n        // 请求数据成功后提示\r\n        if (res.data == \"200\") {\r\n          Toast({\r\n            message: \"登陆成功\",\r\n            onOpened() {\r\n              // 登陆成功用户名存入vuex\r\n              _this.$store.state.username = _this.username;\r\n              // 回调跳转路由\r\n              _this.$router.push(path);\r\n            }\r\n          });\r\n        } else {\r\n          Toast(\"登陆失败\");\r\n        }\r\n      });\r\n\r\n      // this.axios\r\n      //   .post(\"http://localhost:3000/login/cellphone?\", {\r\n      //     params: {\r\n      //       phone: 13169793244,\r\n      //       password: \"123\"\r\n      //     }\r\n      //   })\r\n      //   .then(res => {\r\n      //     console.log(res);\r\n      //   });\r\n    },\r\n    close() {\r\n      let path =\r\n        \"path\" in this.$route.query ? this.$route.query.path : \"/recommend\";\r\n      this.$router.push(path);\r\n      this.$store.commit(\"rankModule/changeisShow3\", false);\r\n    },\r\n    // handleAvatarSuccess(res, file) {\r\n    //   this.imageUrl = URL.createObjectURL(file.raw);\r\n    // },\r\n    // beforeAvatarUpload(file) {\r\n    //   const isJPG = file.type === \"image/jpeg\";\r\n    //   const isLt2M = file.size / 1024 / 1024 < 2;\r\n\r\n    //   if (!isJPG) {\r\n    //     this.$message.error(\"上传头像图片只能是 JPG 格式!\");\r\n    //   }\r\n    //   if (!isLt2M) {\r\n    //     this.$message.error(\"上传头像图片大小不能超过 2MB!\");\r\n    //   }\r\n    //   return isJPG && isLt2M;\r\n    // }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n.register {\r\n  position: fixed;\r\n  top: 50%;\r\n  left: 50%;\r\n  width: 530px;\r\n  min-height: 332px;\r\n  margin-left: -265px;\r\n  margin-top: -250px;\r\n  z-index: 1000;\r\n  background: #fff;\r\n  border-radius: 4px;\r\n  box-shadow: 0 5px 16px rgba(0, 0, 0, 0.8);\r\n  .title {\r\n    height: 38px;\r\n    background-color: #2d2d2d;\r\n    text-align: left;\r\n    color: #fff;\r\n    line-height: 38px;\r\n    font-weight: bold;\r\n    font-size: 14px;\r\n    padding-left: 18px;\r\n    border-radius: 4px 4px 0 0;\r\n    .close {\r\n      padding-right: 20px;\r\n      line-height: 38px;\r\n    }\r\n  }\r\n  .logo-box {\r\n    height: 100px;\r\n    position: relative;\r\n    // background: url(\"../assets/images/register_bg.png\");\r\n    background-size: cover;\r\n    .avatar-uploader .el-upload {\r\n      border: 1px dashed #d9d9d9;\r\n      border-radius: 6px;\r\n      cursor: pointer;\r\n      position: relative;\r\n      overflow: hidden;\r\n    }\r\n    .avatar-uploader .el-upload:hover {\r\n      border-color: #409eff;\r\n    }\r\n    .avatar-uploader-icon {\r\n      font-size: 28px;\r\n      color: #8c939d;\r\n      width: 150px;\r\n      height: 150px;\r\n      line-height: 150px;\r\n      text-align: center;\r\n    }\r\n    .avatar {\r\n      width: 150px;\r\n      height: 150px;\r\n      display: block;\r\n    }\r\n    .logo {\r\n      width: 100px;\r\n      height: 100px;\r\n      position: absolute;\r\n      left: 0;\r\n      right: 0;\r\n      top: 0;\r\n      bottom: 0;\r\n      margin: auto;\r\n      background: url(\"http://p1.music.126.net/pa6u4YeJfWATR_1goouoSQ==/109951163253039183.jpg?param=180y180\");\r\n      background-size: cover;\r\n      // background-color: antiquewhite;\r\n      border-radius: 50%;\r\n    }\r\n  }\r\n  .list {\r\n    width: 300px;\r\n    margin: 0 auto;\r\n    .van-field {\r\n      padding: 5px 8px;\r\n    }\r\n    .van-button {\r\n      height: 34px;\r\n    }\r\n  }\r\n  .footer {\r\n    color: #ddd;\r\n  }\r\n  .rgister-c-fz {\r\n    font-size: 18px;\r\n  }\r\n  .txt {\r\n    color: #666;\r\n    font-size: 14px;\r\n  }\r\n  .login-text {\r\n    color: rgb(95, 97, 223);\r\n    font-size: 14px;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../node_modules/_vue-loader@15.9.3@vue-loader/lib/index.js??vue-loader-options!./Login.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Login.vue?vue&type=template&id=fc9e675e&scoped=true&\"\nimport script from \"./Login.vue?vue&type=script&lang=js&\"\nexport * from \"./Login.vue?vue&type=script&lang=js&\"\nimport style0 from \"./Login.vue?vue&type=style&index=0&id=fc9e675e&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/_vue-loader@15.9.3@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"fc9e675e\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}