(function(t){function e(e){for(var a,n,c=e[0],o=e[1],l=e[2],u=0,d=[];u<c.length;u++)n=c[u],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&d.push(i[n][0]),i[n]=0;for(a in o)Object.prototype.hasOwnProperty.call(o,a)&&(t[a]=o[a]);h&&h(e);while(d.length)d.shift()();return r.push.apply(r,l||[]),s()}function s(){for(var t,e=0;e<r.length;e++){for(var s=r[e],a=!0,n=1;n<s.length;n++){var c=s[n];0!==i[c]&&(a=!1)}a&&(r.splice(e--,1),t=o(o.s=s[0]))}return t}var a={},n={app:0},i={app:0},r=[];function c(t){return o.p+"js/"+({}[t]||t)+"."+{"chunk-10ea6871":"e6d4ca26","chunk-1f57f13f":"57c0c90f","chunk-2b4ac79c":"b894fe3c","chunk-2d0a4a07":"830441e7","chunk-2d0afda0":"85267cc2","chunk-2d0b9807":"36e6407b","chunk-2d0c4287":"5bb03549","chunk-2d0cba78":"5c0f0901","chunk-2d0d30ef":"46afd22f","chunk-2d0e185c":"a1cf758d","chunk-2d22d9a5":"83a9c964","chunk-3454f158":"a6548b05","chunk-56bea5f5":"c1fbe4dd","chunk-6b01bd9f":"010efd61","chunk-718478bf":"c7107329","chunk-790ad5d4":"133807b2","chunk-a0078fde":"cf57e536"}[t]+".js"}function o(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.e=function(t){var e=[],s={"chunk-10ea6871":1,"chunk-1f57f13f":1,"chunk-2b4ac79c":1,"chunk-3454f158":1,"chunk-56bea5f5":1,"chunk-6b01bd9f":1,"chunk-718478bf":1,"chunk-790ad5d4":1,"chunk-a0078fde":1};n[t]?e.push(n[t]):0!==n[t]&&s[t]&&e.push(n[t]=new Promise((function(e,s){for(var a="css/"+({}[t]||t)+"."+{"chunk-10ea6871":"0f01602c","chunk-1f57f13f":"76a32f84","chunk-2b4ac79c":"2e9ee823","chunk-2d0a4a07":"31d6cfe0","chunk-2d0afda0":"31d6cfe0","chunk-2d0b9807":"31d6cfe0","chunk-2d0c4287":"31d6cfe0","chunk-2d0cba78":"31d6cfe0","chunk-2d0d30ef":"31d6cfe0","chunk-2d0e185c":"31d6cfe0","chunk-2d22d9a5":"31d6cfe0","chunk-3454f158":"6c70f1a6","chunk-56bea5f5":"285e84da","chunk-6b01bd9f":"26de93e9","chunk-718478bf":"450e0032","chunk-790ad5d4":"7928405f","chunk-a0078fde":"66d7385b"}[t]+".css",i=o.p+a,r=document.getElementsByTagName("link"),c=0;c<r.length;c++){var l=r[c],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===a||u===i))return e()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){l=d[c],u=l.getAttribute("data-href");if(u===a||u===i)return e()}var h=document.createElement("link");h.rel="stylesheet",h.type="text/css",h.onload=e,h.onerror=function(e){var a=e&&e.target&&e.target.src||i,r=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");r.code="CSS_CHUNK_LOAD_FAILED",r.request=a,delete n[t],h.parentNode.removeChild(h),s(r)},h.href=i;var f=document.getElementsByTagName("head")[0];f.appendChild(h)})).then((function(){n[t]=0})));var a=i[t];if(0!==a)if(a)e.push(a[2]);else{var r=new Promise((function(e,s){a=i[t]=[e,s]}));e.push(a[2]=r);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,o.nc&&u.setAttribute("nonce",o.nc),u.src=c(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(h);var s=i[t];if(0!==s){if(s){var a=e&&("load"===e.type?"missing":e.type),n=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+a+": "+n+")",d.name="ChunkLoadError",d.type=a,d.request=n,s[1](d)}i[t]=void 0}};var h=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},o.m=t,o.c=a,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(s,a,function(e){return t[e]}.bind(null,a));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="/",o.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var h=u;r.push([0,"chunk-vendors"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"4e66":function(t,e,s){},"56d7":function(t,e,s){"use strict";s.r(e);s("3880");var a=s("b9bc"),n=s.n(a),i=(s("2ac9"),s("29a2")),r=(s("9095"),s("ef34")),c=(s("67b1"),s("33c4")),o=(s("e3c8"),s("f0bc")),l=(s("529e"),s("3fff")),u=(s("e2a0"),s("0492")),d=(s("a133"),s("ed0d"),s("f09c"),s("e117"),s("0261")),h=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"app",attrs:{id:"app"}},[s("div",{staticClass:"navigation"},[s("div",{staticClass:"nav clearfix"},[t._m(0),s("div",{staticClass:"tag fl"},[s("ul",{staticClass:"clearfix"},t._l(t.li,(function(e,a){return s("li",{key:a,class:{active:a==t.ins1},on:{click:function(s){return t.linkTO(e.name,a)}}},[t._v(" "+t._s(e.title)+" "),s("i",{class:{acti:a==t.ins1&&t.ins1<3}})])})),0)]),s("div",{staticClass:"right fl clearfix"},[s("div",{staticClass:"search"},[s("van-search",{attrs:{shape:"round",background:"#242424",placeholder:"音乐/视频/电台/用户"},on:{search:t.onSearch,blur:t.onBlur},model:{value:t.value,callback:function(e){t.value=e},expression:"value"}}),s("div",{directives:[{name:"show",rawName:"v-show",value:t.isBlur,expression:"isBlur"}],staticClass:"u-lstlay"},[s("div",{staticClass:"m-schlist"},[s("div",{staticClass:"rap"},[s("div",{staticClass:"itm"},[s("div",[s("h3",{staticClass:"h3 fl"},[t._v("单曲")]),s("ul",{staticClass:"clearfix"},t._l(t.searchSongsData,(function(e,a){return s("li",{key:a,attrs:{id:e.id},on:{mousedown:function(s){return t.toSongDetail(e.id,e,a)}}},[a<=4?[s("a",{staticClass:"s-fc0 f-thide xtag",attrs:{href:"javascript:;"}},[s("span",{staticClass:"s-fc7 f-tdn"},[t._v(t._s(e.singerName1))]),s("span",[t._v(t._s(e.singerName2))]),s("span",[t._v(t._s(e.singerName3))]),t._v(" "+t._s(e.artists[0].name)+" ")])]:t._e()],2)})),0)]),s("div",[s("h3",{staticClass:"h3 fl"},[t._v("歌手")]),s("ol",{staticClass:"clearfix"},t._l(t.singerData,(function(e,a){return s("li",{key:a,attrs:{id:e.id},on:{mousedown:function(s){return t.toSingerSongs(e.id,e,a)}}},[a<=4?[s("a",{staticClass:"s-fc0 f-thide xtag",attrs:{href:"javascript:;"}},[s("span",{staticClass:"s-fc7 f-tdn"},[t._v(t._s(e.name))])])]:t._e()],2)})),0)])])])])])],1),t._m(1),s("div",{staticClass:"user"},[t._m(2),t.$store.state.username?s("div",[s("a",{staticClass:"link s-fc3",domProps:{textContent:t._s(t.$store.state.username)}})]):s("div",[s("a",{staticClass:"link s-fc3",on:{click:t.login}},[t._v("登录")])]),t._m(3)])])])]),s("FloorControl",{attrs:{songsUrl:t.songsUrl,songsId:t.songsId}}),s("router-view")],1)},f=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"logo fl"},[s("h1",[s("a",{attrs:{href:""}},[t._v("聆听音乐")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"center fl"},[s("span",[t._v("创作者中心")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"head"},[s("img",{attrs:{src:"http://p1.music.126.net/pa6u4YeJfWATR_1goouoSQ==/109951163253039183.jpg?param=80y80",alt:""}}),s("i",{staticClass:"msg fl abs"},[t._v("54")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"m-tlist clearfix"},[s("div",{staticClass:"arr"}),s("ul",{staticClass:"f-cb lb mg"},[s("li",[s("a",{staticClass:"itm-1"},[s("i",{staticClass:"icn icn-hm"}),s("em",[t._v("我的主页")])])]),s("li",[s("a",{staticClass:"itm-2"},[s("i",{staticClass:"icn icn-msg"}),s("em",[t._v("我的消息")]),s("span",{staticClass:"msg abs"},[t._v("54")])])]),s("li",[s("a",{staticClass:"itm-2"},[s("i",{staticClass:"icn icn-lv"}),s("em",[t._v("我的等级")])])]),s("li",[s("a",{staticClass:"itm-2",attrs:{href:"#"}},[s("i",{staticClass:"icn icn-mbr"}),s("em",[t._v("VIP会员")])])])]),s("ul",{staticClass:"f-cb ltb mg"},[s("li",[s("a",{staticClass:"itm-2"},[s("i",{staticClass:"icn icn-st"}),s("em",[t._v("个人设置")])])]),s("li",[s("a",{staticClass:"itm-2"},[s("i",{staticClass:"icn icn-verify"}),s("em",[t._v("实名认证")])])])]),s("ul",{staticClass:"f-cb lt"},[s("li",[s("a",{staticClass:"itm-3",attrs:{href:"#"}},[s("i",{staticClass:"icn icn-ex"}),s("em",[t._v("退出")])])])])])}],g=(s("fe59"),s("053b"),s("08ba"),s("e793")),m=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("audio",{ref:"audio",attrs:{src:t.sUrl,autoplay:""},on:{pause:t.pause,play:t.onPlay,timeupdate:t.onTimeUpdate}}),s("div",{staticClass:"g-btmbar"},[t.currentSong?s("div",{ref:"mPlaybar",staticClass:"m-playbar m-playbar-unlock clearfix",class:{active:t.isShow}},[s("div",{staticClass:"updn clearfix"},[s("div",{staticClass:"left fl"},[s("a",{staticClass:"btn",class:{active:t.isLock},attrs:{href:"javascript:;"},on:{click:t.lock}})]),s("div",{staticClass:"right fl"})]),s("div",{staticClass:"bg"}),s("div",{staticClass:"hand",attrs:{title:"展开播放条"}}),t.songsData?s("div",{staticClass:"wrap clearfix"},[s("div",{staticClass:"btns fl"},[s("a",{staticClass:"prv",attrs:{href:"javascript:;",title:"上一首"},on:{click:t.prev}},[t._v("上一首")]),s("a",{staticClass:"ply",class:{active:t.isPlay},attrs:{href:"javascript:;",title:"播放/暂停(p)"},on:{click:t.zanting}},[t._v("播放/暂停")]),s("a",{staticClass:"nxt",attrs:{href:"javascript:;",title:"下一首"},on:{click:t.next}},[t._v("下一首")])]),s("div",{staticClass:"head fl",on:{click:t.toSongDetail}},[s("img",{attrs:{src:t.songsData.al.picUrl}}),s("a",{staticClass:"mask",attrs:{href:"#",hidefocus:"true"}})]),s("div",{staticClass:"play fl"},[s("div",{staticClass:"clearfix words"},[s("a",{staticClass:"f-thide name fc1 fl",attrs:{hidefocus:"true",title:""}},[t._v(t._s(t.songsData.name))]),s("span",{staticClass:"by f-thide fl"},[s("span",{attrs:{title:""}},[s("a",[t._v(t._s(t.songsData.ar[0].name))])])]),s("a",{staticClass:"src",attrs:{title:"来自榜单"}})]),s("div",{staticClass:"m-pbar",attrs:{"data-action":"noop"}},[s("div",{ref:"progress",staticClass:"barbg"},[s("div",{staticClass:"rdy"}),s("div",{ref:"progressActive",staticClass:"cur"},[s("span",{ref:"mask",staticClass:"btn f-tdn f-alpha"},[s("i")])]),s("div",{ref:"layer",staticClass:"layer"})]),s("span",{staticClass:"time"},[s("em",{ref:"ct"},[t._v(t._s(t.defaultTime))]),t._v(" / "+t._s(t.formatTime(t.songsData.dt))+" ")])])]),t._m(0),s("div",{staticClass:"ctrl fl f-pr j-flag"},[t._m(1),s("a",{staticClass:"icn icn-vol",attrs:{href:"javascript:;"}}),s("a",{staticClass:"icon1",attrs:{href:"javascript:;"},on:{click:t.changeMode}},[0===t.mode?s("i",{staticClass:"icn icn-loop",attrs:{href:"#"}}):t._e(),1===t.mode?s("i",{staticClass:"icn icn-shuffle",attrs:{href:"#"}}):t._e(),2===t.mode?s("i",{staticClass:"icn icn-one",attrs:{href:"#"}}):t._e()]),s("span",{staticClass:"add f-pr"},[s("span",{staticClass:"tip",staticStyle:{display:"none"}},[t._v("已开始播放")]),s("a",{staticClass:"icn icn-list s-fc3",attrs:{href:"javascript:;",title:"播放列表",hidefocus:"true","data-action":"panel"},on:{click:t.playListIcon}},[t._v(t._s(t.currentSong.length))])]),s("div",{staticClass:"tip tip-1",staticStyle:{display:"none"}},[t._v("随机")])])]):t._e(),s("div",{directives:[{name:"show",rawName:"v-show",value:t.playListStatus,expression:"playListStatus"}],staticClass:"list"},[s("div",{staticClass:"listhd"},[s("div",{staticClass:"listhdc"},[t._m(2),s("a",{staticClass:"addall",attrs:{href:"#"},on:{click:function(e){return t.likeAll(t.currentSong)}}},[s("span",{staticClass:"ico ico-add"}),t._v(" 收藏全部 ")]),s("span",{staticClass:"line"},[t._v("|")]),s("a",{staticClass:"clear",attrs:{href:"#"},on:{click:t.clear}},[s("span",{staticClass:"ico icn-del"}),t._v(" 清除 ")]),s("p",{staticClass:"lytit"},[t._v(t._s(t.songsData.name))]),s("span",{staticClass:"close",on:{click:t.close}},[t._v("关闭")])])]),s("div",{staticClass:"listbd"},[s("img",{staticClass:"imgbg",attrs:{src:t.songsData.al.picUrl,alt:""}}),s("div",{staticClass:"msk"}),s("div",{ref:"listbdc",staticClass:"listbdc"},[s("ul",{ref:"ul",staticClass:"clearfix"},t._l(t.currentSong,(function(e,a){return s("li",{key:a,class:{active:t.currentSong[a]&&t.currentSong[a].id===t.songsData.id},attrs:{id:e.id},on:{click:function(s){return t.playSong(e.id,e,a)}}},[s("div",{staticClass:"col col-1"}),s("div",{staticClass:"col col-2"},[t._v(t._s(t.currentSong[a].name))]),s("div",{staticClass:"col col-3"},[s("div",{staticClass:"icns"},[s("i",{staticClass:"ico icn-del",on:{click:function(s){return s.stopPropagation(),t.delCurrentSong(e.id,a,e)}}}),s("i",{staticClass:"ico ico-dl"}),s("i",{staticClass:"ico ico-share"}),s("i",{staticClass:"j-t ico ico-add",on:{click:function(s){return s.stopPropagation(),t.addCurrentSong(e.id,a,e)}}})])]),s("div",{staticClass:"col col-4"},[s("span",[s("a",{attrs:{href:""}},[t._v(t._s(t.currentSong[a].ar[0].name))])])]),s("div",{staticClass:"col col-5"},[t._v(t._s(t.formatTime(t.currentSong[a].dt)))]),t._m(3,!0)])})),0)]),s("div",{ref:"bline",staticClass:"bline"},[s("span",{ref:"scrol",staticClass:"scrol"})]),t._m(4),s("div",{staticClass:"ms"}),s("div",{ref:"msk2",staticClass:"msk2"},[s("div",{ref:"listlyric",staticClass:"listlyric"},t._l(t.lyrics,(function(e,a){return s("p",{key:a,ref:"p",refInFor:!0,class:{active:a===t.currentLyricIndex}},[t._v(t._s(e.text))])})),0)]),t._m(5)])])]):t._e()])])},p=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"oper fl"},[s("a",{staticClass:"icn icn-add j-flag",attrs:{href:"javascript:;",hidefocus:"true","data-action":"like",title:"收藏"}}),s("a",{staticClass:"icn icn-share",attrs:{href:"javascript:;",hidefocus:"true","data-action":"share",title:"分享"}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"m-vol"},[s("div",{staticClass:"barbg"}),s("div",{staticClass:"vbg j-t"},[s("div",{staticClass:"curr j-t"}),s("span",{staticClass:"btn f-alpha j-t"})])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("h4",[t._v(" 播放列表( "),s("span",[t._v("78")]),t._v(" ) ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col col-6"},[s("a",{staticClass:"ico ico-src",attrs:{href:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"ask"},[s("a",{staticClass:"ico ico-ask",attrs:{href:""}})])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"bline bline-1"},[s("span",{staticClass:"scrol scrol-1"})])}],v=(s("ecb4"),s("ea69"),s("895d"),s("cb07")),k=s("9f3a"),S=Object(k["a"])("rankModule"),y=S.mapState,b=S.mapMutations,C={data:function(){return{isActive:!1,songsData1:[],defaultTime:"00:00",currentTime:0,duration:0,isFirstPlay:!1,x:0,ex:0,progressWidth:0,maskWidth:0,minLeft:0,maxLeft:0,left:0,audioTime:0,isLeave:!1,isDown:!1,currentLyricIndex:0,moveIndex:0,sUrl:null,mode:0,inex:0,playListStatus:!1,isLock:!1}},computed:Object(g["a"])({},y(["songsData","isPlay","lyrics","currentSong","allSongsList","index","isShow","likeSongs"])),watch:{isPlay:function(t,e){var s,a=this;t?(s=this.$refs.audio.play(),s&&s.then((function(){setTimeout((function(){}),1e3*a.$refs.audio.duration)})).catch((function(t){}))):this.$refs.audio.pause()},songsUrl:function(t,e){this.sUrl=t}},props:["songsUrl"],methods:Object(g["a"])(Object(g["a"])({},b(["getSongsData","changeisPlay","getLyric","getCurrentSong","getAllSongsList","getIndex","changeisShow","getLikeSongs"])),{},{formatTime:function(t){var e=Math.floor(t/1e3%60);e=e>=10?e:"0"+e;var s=Math.floor(t/1e3/60);return s=s>=10?s:"0"+s,s+":"+e},toSongDetail:function(){this.$router.push("/songsDetails")},zanting:function(){this.isActive=!this.isActive,this.$store.commit("rankModule/changeisPlay",!this.isPlay)},onTimeUpdate:function(t){if(!isNaN(t.target.duration)){this.currentTime=t.target.currentTime,this.duration=t.target.duration;var e=this.formatTime(1e3*this.currentTime);this.$refs.ct.innerText=e;var s,a=this.currentTime/this.duration,n=Math.floor(this.progressWidth*a);this.$refs.progressActive.style.width=n+"px",this.$refs.mask.style.left=n+"px";for(var i=0;i<this.lyrics.length;i++)if(i>=this.lyrics.length+1&&(s=i),this.lyrics[i].time<=this.currentTime&&this.lyrics[i+1].time>this.currentTime){var r=this.$refs.p[i].clientHeight*i-96;document.querySelector(".msk2").scrollTop=r,s=i;break}s!==this.currentLyricIndex&&(this.currentLyricIndex=s)}},pause:function(){},onPlay:function(){},changeProgress:function(t){var e=!0;this.x=t.offsetX;var s=this.x;if(s=s>this.maxLeft?this.maxLeft:s<this.minLeft?this.minLeft:s,this.$refs.mask.style.left=s+"px",this.$refs.progressActive.style.width=this.x+"px",this.audioTime=s/this.maxLeft*this.duration,e){e=!1;this.formatTime(1e3*this.audioTime);this.$refs.audio.currentTime=this.audioTime}},playSong:function(t,e,s){var a=this;this.axios({method:"GET",url:"http://49.234.68.133:3000/song/url?id="+t}).then((function(t){a.sUrl=t.data.data[0].url,a.$store.dispatch("rankModule/getSongsData",e),a.$store.dispatch("rankModule/getPlaySongs",e),a.$store.commit("rankModule/changeisPlay",!0),window.localStorage.setItem("playSong",JSON.stringify(e))})),this.axios({method:"GET",url:"http://49.234.68.133:3000/lyric?id="+t}).then((function(t){a.$store.dispatch("rankModule/getLyric",t.data.lrc.lyric)})).catch((function(t){})),this.$store.dispatch("rankModule/getIndex",s)},prev:function(){var t=this;1!==this.currentSong.length?(this._index=this.index-1,-1===this._index&&(this._index=this.currentSong.length-1),this.$store.dispatch("rankModule/getIndex",this._index),this.axios({method:"GET",url:"http://49.234.68.133:3000/song/url?id="+this.currentSong[this._index].id}).then((function(e){t.sUrl=e.data.data[0].url,t.$store.dispatch("rankModule/getSongsData",t.currentSong[t._index]),t.$store.commit("rankModule/changeisPlay",!0)})),this.axios({method:"GET",url:"http://49.234.68.133:3000/lyric?id="+this.currentSong[this._index].id}).then((function(e){t.$store.dispatch("rankModule/getLyric",e.data.lrc.lyric)})).catch((function(t){}))):this.$refs.audio.loop()},next:function(){var t=this;1!==this.currentSong.length?(this._index=this.index+1,this._index===this.currentSong.length&&(this._index=0),this.$store.dispatch("rankModule/getIndex",this._index),this.axios({method:"GET",url:"http://49.234.68.133:3000/song/url?id="+this.currentSong[this._index].id}).then((function(e){t.sUrl=e.data.data[0].url,t.$store.dispatch("rankModule/getSongsData",t.currentSong[t._index]),t.$store.commit("rankModule/changeisPlay",!0)})),this.axios({method:"GET",url:"http://49.234.68.133:3000/lyric?id="+this.currentSong[this._index].id}).then((function(e){t.$store.dispatch("rankModule/getLyric",e.data.lrc.lyric)})).catch((function(t){}))):this.loop()},changeMode:function(){this.mode+=1,this.mode>2&&(this.mode=0),this.currentStatus()},shuffle:function(t){var e,s=t.length;return s>0&&(e=Math.floor(Math.random()*s)),e},loop:function(){this.$refs.audio.currentTime=0,this.$refs.audio.play()},currentStatus1:function(){},currentStatus:function(){var t=this,e=this.$refs.audio;switch(console.log("audio",e),this.mode){case 0:e.onended=function(){var e=t.index+=1;t.$store.dispatch("rankModule/getIndex",e),e>t.currentSong.length-1&&(e=0),t.$store.dispatch("rankModule/getIndex",e),t.axios({method:"GET",url:"http://49.234.68.133:3000/song/url?id="+t.currentSong[e].id}).then((function(s){t.sUrl=s.data.data[0].url,t.$store.dispatch("rankModule/getSongsData",t.currentSong[e]),t.$store.commit("rankModule/changeisPlay",!0)})),t.axios({method:"GET",url:"http://49.234.68.133:3000/lyric?id="+t.currentSong[e].id}).then((function(e){t.$store.dispatch("rankModule/getLyric",e.data.lrc.lyric)})).catch((function(t){}))};break;case 1:e.onended=function(){var s=t.shuffle(t.currentSong);t.$store.dispatch("rankModule/getIndex",s);var a=t.currentSong[s];-1!=e.src.indexOf(a.id)&&(s=t.shuffle(t.currentSong),a=t.currentSong[s]),t.axios({method:"GET",url:"http://49.234.68.133:3000/song/url?id="+a.id}).then((function(e){t.sUrl=e.data.data[0].url,t.$store.dispatch("rankModule/getSongsData",a),t.$store.commit("rankModule/changeisPlay",!0)})),t.axios({method:"GET",url:"http://49.234.68.133:3000/lyric?id="+a.id}).then((function(e){t.$store.dispatch("rankModule/getLyric",e.data.lrc.lyric)})).catch((function(t){}))};break;case 2:e.onended=function(){t.$store.dispatch("rankModule/getIndex",t.index),t.axios({method:"GET",url:"http://49.234.68.133:3000/song/url?id="+t.currentSong[t.index].id}).then((function(e){t.sUrl=e.data.data[0].url,t.loop(),t.$store.dispatch("rankModule/getSongsData",t.currentSong[t.index]),t.$store.commit("rankModule/changeisPlay",!0)}))};break}},playListIcon:function(){this.playListStatus=!this.playListStatus,1==this.playListStatus?this.$refs.mPlaybar.style.top="-53px":(this.$refs.mPlaybar.style.top="-7px",this.$refs.mPlaybar.style.transition="all 1s linear")},lock:function(){this.isLock=!this.isLock,1==this.isLock?this.$refs.mPlaybar.style.top="-53px":this.$refs.mPlaybar.style.top="-7px"},close:function(){var t=this;this.playListStatus=!1;var e=setTimeout((function(){t.$refs.mPlaybar.style.top="-7px",clearTimeout(e)}),1e3)},delCurrentSong:function(t,e,s){var a=this;if(s.id==t&&(this.currentSong.splice(e,1),window.localStorage.setItem("currentSong",JSON.stringify(this.currentSong))),e<=this.index){var n=this.index-1;if(-1==n)return;this.$store.dispatch("rankModule/getIndex",n),this.axios({method:"GET",url:"http://49.234.68.133:3000/song/url?id="+this.currentSong[n].id}).then((function(t){a.sUrl=t.data.data[0].url,a.$store.dispatch("rankModule/getSongsData",a.currentSong[n]),a.$store.commit("rankModule/changeisPlay",!0)}))}},addCurrentSong:function(t,e,s){if(this.likeSongs.length)for(var a=0;a<this.likeSongs.length;a++){var n=this.likeSongs[a];if(t==n.id)break;Object(v["a"])({message:"已存在"}),a==this.likeSongs.length-1&&(this.likeSongs.push(s),Object(v["a"])({message:"收藏成功"}))}else this.likeSongs.push(s);this.$store.dispatch("rankModule/getLikeSongs",this.likeSongs),window.localStorage.setItem("likeSongs",JSON.stringify(this.likeSongs))},clear:function(){this.currentSong.splice(this.currentSong),this.$refs.audio.currentTime=0,this.$refs.audio.src="",window.localStorage.setItem("currentSong",JSON.stringify(this.currentSong))},likeAll:function(t){this.$store.dispatch("rankModule/getLikeSongs",t)}}),mounted:function(){var t=this,e=JSON.parse(window.localStorage.getItem("playSong"));this.$store.dispatch("rankModule/getSongsData",e),this.isFirstPlay=!0,this.$refs.audio.onplay=function(){},this.$refs.audio.oncanplay=function(){this.play()};this.progressWidth=this.$refs.progress.clientWidth,this.maskWidth=this.$refs.mask.clientWidth,this.minLeft=0,this.maxLeft=this.progressWidth;var s=!1;this.$refs.layer.onmousedown=function(e){s=!0,t.changeProgress(e),t.$refs.layer.onmousemove=function(e){e.preventDefault(),t.changeProgress(e)}},this.$refs.layer.onmouseup=function(e){t.$refs.layer.onmousemove=null,!0,s=!1,t.changeProgress(e)},this.$refs.layer.onmouseleave=function(e){s&&(t.$refs.layer.onmousemove=null,!0,s=!1,t.changeProgress(e))}}},D=C,x=(s("6487"),s("9ca4")),_=Object(x["a"])(D,m,p,!1,null,"f02bafea",null),w=_.exports,$=Object(k["a"])("rankModule"),L=$.mapState,T=$.mapMutations,M={data:function(){return{ins1:0,value:"",li:[{name:"find",title:"发现音乐"},{name:"my",title:"我的音乐"},{name:"friend",title:"朋友"},{name:"shop",title:"商城"},{name:"musician",title:"音乐人"},{name:"client",title:"下载客户端"}],isActive:!1,searchSongsData:[],singerData:[],isBlur:!1}},computed:Object(g["a"])({},L(["songsData","songsUrl","isPlay","songsId","isShow5"])),watch:{$route:function(t,e){},value:function(t){""!=t?(this.onSearch(t),this.isBlur=!0):this.isBlur=!1}},components:{FloorControl:w},methods:Object(g["a"])(Object(g["a"])({},T(["getSongsData","changeisShow5"])),{},{linkTO:function(t,e){this.$router.push({name:t,query:{index:e}}),window.localStorage.setItem("index",e),this.ins1=e},login:function(){this.$router.push("/login"),this.$store.commit("rankModule/changeisShow3",!0)},toSongDetail:function(t,e,s){var a=this;this.$router.push({name:"songsDetails",query:{id:t}}),this.axios({method:"GET",url:"http://49.234.68.133:3000/song/detail?ids="+t}).then((function(t){a.$store.dispatch("rankModule/getSongsData",t.data.songs[0])})),this.axios({method:"GET",url:"http://49.234.68.133:3000/lyric?id="+t}).then((function(t){a.$store.dispatch("rankModule/getLyric",t.data.lrc.lyric)})).catch((function(t){}))},toSingerSongs:function(t,e,s){var a=this;this.$router.push({name:"singerSongs",query:{id:t}}),this.axios({method:"GET",url:"http://49.234.68.133:3000/artist/top/song?id="+t}).then((function(t){a.$store.dispatch("rankModule/getSingerSongs",t.data.songs),a.$store.dispatch("rankModule/getSingerIndexx",s)}))},onSearch:function(){var t=this;this.axios({method:"GET",url:"http://49.234.68.133:3000/search?keywords="+this.value+"&limit=10"}).then((function(e){e.data.result.songs.forEach((function(s,a){var n=s.name;console.log("str",n);var i=n.substring(0,t.value.length);if(console.log("str1",i),i!=t.value)return s.artists[0].name="",void(s.singerName3="");var r=n.substring(t.value.length);0==r&&(s.singerName2=""),s.singerName1=i,s.singerName2=r,s.singerName3="-",t.searchSongsData=e.data.result.songs}))})),this.axios({method:"GET",url:"http://49.234.68.133:3000/search?keywords="+this.value+"&limit=10&type=100"}).then((function(e){console.log("this.searchSongsData",e),t.$store.dispatch("rankModule/getSingerInfo",e.data.result.artists),e.data.result.artists.forEach((function(s,a){console.log("i",a);var n=s.name;console.log("str",n);var i=n.substring(0,t.value.length);console.log("str1",i),t.singerData=e.data.result.artists,console.log("this.singerData",t.singerData)}))}))},onBlur:function(){this.isBlur=!1}}),mounted:function(){this.$store.state.isShow5=!0,this.ins1=window.localStorage.getItem("index")}},I=M,P=(s("7c55"),Object(x["a"])(I,h,f,!1,null,null,null)),E=P.exports,j=s("3211"),N=(s("e18c"),{path:"/find",name:"find",component:function(){return s.e("chunk-6b01bd9f").then(s.bind(null,"3afa"))},redirect:"/recommend",children:[{path:"/recommend",name:"recommend",component:function(){return s.e("chunk-3454f158").then(s.bind(null,"e3b5"))}},{path:"/rank",name:"rank",component:function(){return s.e("chunk-1f57f13f").then(s.bind(null,"5baa"))},redirect:"/rank/19723756",children:[{path:"/rank/:rankList",name:"rankList",component:function(){return s.e("chunk-56bea5f5").then(s.bind(null,"5897"))}}]},{path:"/songSheet",name:"songSheet",component:function(){return s.e("chunk-2d0c4287").then(s.bind(null,"3a47"))}},{path:"/anchorStation",name:"anchorStation",component:function(){return s.e("chunk-2d0cba78").then(s.bind(null,"4b1e"))}},{path:"/singer",name:"singer",component:function(){return s.e("chunk-2d0b9807").then(s.bind(null,"32e7"))}},{path:"/newDiscs",name:"newDiscs",component:function(){return s.e("chunk-2d22d9a5").then(s.bind(null,"f7ca"))}}]}),O={path:"/client",name:"client",component:function(){return s.e("chunk-2d0e185c").then(s.bind(null,"7b94"))}},U={path:"/friend",name:"friend",component:function(){return s.e("chunk-2d0d30ef").then(s.bind(null,"5ac0"))}},R={path:"/my",name:"my",component:function(){return s.e("chunk-10ea6871").then(s.bind(null,"4c41"))}},A={path:"/musician",name:"musician",component:function(){return s.e("chunk-2d0a4a07").then(s.bind(null,"06f1"))}},G={path:"/shop",name:"shop",component:function(){return s.e("chunk-2d0afda0").then(s.bind(null,"0fa5"))}},W={path:"/songsDetails",name:"songsDetails",component:function(){return s.e("chunk-2b4ac79c").then(s.bind(null,"15dc"))}},B={path:"/login",name:"login",component:function(){return s.e("chunk-a0078fde").then(s.bind(null,"a55b"))}},H={path:"/register",name:"register",component:function(){return s.e("chunk-718478bf").then(s.bind(null,"73cf"))}},J={path:"/singerSongs",name:"singerSongs",component:function(){return s.e("chunk-790ad5d4").then(s.bind(null,"4309"))}};d["default"].use(j["a"]);var q=[{path:"/",redirect:"/recommend"},N,O,U,R,A,G,W,B,H,J],F=new j["a"]({mode:"history",base:"/",routes:q}),z=F,K={recommendData:[],showRecommendData:{start:0,end:8,data:[]},showRecommendData2:{start:0,end:4,data:[]},newDiscsData:[],showNewDiscsData:{start:0,end:5,data:[],start1:6,end1:11,data1:[],start2:12,end2:17,data2:[],start3:18,end3:23,data3:[]},isHasData:!0,rankData:[],songSheet:[{coverImgUrl:""},{coverImgUrl:""},{coverImgUrl:""}],teseData:[],mediaData:[],selectActive:!1,rankListData:[],rankHeadData:[],songsData:{al:{picUrl:"",name:""},ar:[{name:""}]},songsUrl:[],isPlay:!1,beginPlay:!1,percent:null,progressWidth:null,maskWidth:null,width:0,songsId:null,currentSong:[],currentTime:null,duration:null,tr:!1,isDown:!1,lyric:null,lyrics:null,allSongsList:[],index:0,mode:0,playSongs:{},isShow:!1,likeSongs:[{al:{picUrl:"",name:""},ar:[{name:""}]}],isShow3:!1,recommendId:[],singerSongs:[],singerInfo:[],indexx:null},Q=(s("2eeb"),s("77ad"),s("513c"),s("84c2"),s("e35a"),s("1c2e"),s("0d7a"),{getRecommendData:function(t,e){t.recommendData=e,t.showRecommendData.data=t.recommendData.slice(t.showRecommendData.start,t.showRecommendData.end),t.showRecommendData2.data=t.recommendData.slice(t.showRecommendData2.start,t.showRecommendData2.end)},getNewDiscsData:function(t,e){t.newDiscsData=e,t.showNewDiscsData.data=t.newDiscsData.slice(t.showNewDiscsData.start,t.showNewDiscsData.end),t.showNewDiscsData.data1=t.newDiscsData.slice(t.showNewDiscsData.start1,t.showNewDiscsData.end1),t.showNewDiscsData.data2=t.newDiscsData.slice(t.showNewDiscsData.start2,t.showNewDiscsData.end2),t.showNewDiscsData.data3=t.newDiscsData.slice(t.showNewDiscsData.start3,t.showNewDiscsData.end3)},getRankData:function(t,e){t.rankData=e;var s=t.rankData.slice(0,3);t.songSheet=s;var a=t.rankData.slice(0,4);t.teseData=a;var n=t.rankData.slice(4);t.mediaData=n},changeActive:function(t,e){t.selectActive=e},getRankHeadData:function(t,e){t.rankHeadData=e},getRankListData:function(t,e){t.rankListData=e},getSongsData:function(t,e){t.songsData=e},getSongsUrl:function(t,e){t.songsUrl=e},changeisPlay:function(t,e){t.isPlay=e},percentTime:function(t,e){t.percent=e},getProgressWidth:function(t,e){t.progressWidth=e},getMaskWidth:function(t,e){t.maskWidth=e},getSongsId:function(t,e){t.songsId=e},getCurrentSong:function(t,e){t.currentSong=e},getCurrenTime:function(t,e){t.currentTime=e},getTrue:function(t,e){t.tr=e},changeisDown:function(t,e){t.isDown=e},getLyric:function(t,e){t.lyric=e;var s=t.lyric.split(/\n/),a=s.map((function(t){var e=/\[(\d+):(\d+\.\d+)\](.+)/;return e.test(t),{text:RegExp.$3,time:60*RegExp.$1+Number(RegExp.$2)}}));t.lyrics=a},getAllSongsList:function(t,e){t.allSongsList=e},getIndex:function(t,e){t.index=e},getMode:function(t,e){t.mode=e},getPlaySongs:function(t,e){t.playSongs=e},changeisShow:function(t,e){t.isShow=e},getLikeSongs:function(t,e){t.likeSongs=e},changeisShow3:function(t,e){t.isShow3=e},getRecommendId:function(t,e){t.recommendId=e},getSingerSongs:function(t,e){t.singerSongs=e,console.log("state.singerSongs",t.singerSongs)},getSingerInfo:function(t,e){t.singerInfo=e},getSingerIndexx:function(t,e){t.indexx=e}}),V={getRecommendData:function(t,e){t.commit("getRecommendData",e)},getNewDiscsData:function(t,e){t.commit("getNewDiscsData",e)},getRankData:function(t,e){t.commit("getRankData",e)},getRankListData:function(t,e){t.commit("getRankListData",e)},getRankHeadData:function(t,e){t.commit("getRankHeadData",e)},getSongsData:function(t,e){t.commit("getSongsData",e)},getSongsUrl:function(t,e){t.commit("getSongsUrl",e)},getSongsId:function(t,e){t.commit("getSongsId",e)},getCurrentSong:function(t,e){t.commit("getCurrentSong",e)},getLyric:function(t,e){t.commit("getLyric",e)},getAllSongsList:function(t,e){t.commit("getAllSongsList",e)},getIndex:function(t,e){t.commit("getIndex",e)},getPlaySongs:function(t,e){t.commit("getPlaySongs",e)},changeisShow:function(t,e){t.commit("changeisShow",e)},getLikeSongs:function(t,e){t.commit("getLikeSongs",e)},getRecommendId:function(t,e){t.commit("getRecommendId",e)},getSingerSongs:function(t,e){t.commit("getSingerSongs",e)},getSingerInfo:function(t,e){t.commit("getSingerInfo",e)},getSingerIndexx:function(t,e){t.commit("getSingerIndexx",e)}},X={namespaced:!0,mutations:Q,state:K,actions:V};d["default"].use(k["b"]);var Y=new k["b"].Store({state:{username:null},modules:{rankModule:X}}),Z=s("82ae"),tt=s.n(Z),et=s("e7aa"),st=s.n(et);s("85aa"),s("e635");d["default"].use(u["a"]),d["default"].use(l["a"]),d["default"].use(o["a"]),d["default"].use(c["a"]),d["default"].use(r["a"]),d["default"].use(i["a"]),d["default"].use(n.a),tt.a.defaults.baseURL="http://127.0.0.1:3009",d["default"].prototype.$axios=tt.a,d["default"].use(st.a,tt.a),d["default"].config.productionTip=!1;var at=j["a"].prototype.push;j["a"].prototype.push=function(t){return at.call(this,t).catch((function(t){return t}))},new d["default"]({router:z,store:Y,render:function(t){return t(E)}}).$mount("#app")},6487:function(t,e,s){"use strict";var a=s("864c"),n=s.n(a);n.a},"7c55":function(t,e,s){"use strict";var a=s("4e66"),n=s.n(a);n.a},"864c":function(t,e,s){}});
//# sourceMappingURL=app.b525f8cf.js.map